{"version":3,"sources":["components/Tile/Tile.js","images/mine.png","images/bomb.png","components/App/App.js","index.js"],"names":["Tile","data","isGameOver","detonatedId","setGameOver","winGame","openTile","setFlag","onClick","isFlag","index","isBomb","onContextMenu","evt","preventDefault","isOpen","className","classNames","number","src","alt","title","App","useState","bombs","numbers","tiles","width","height","difficulty","bombsCounter","flagCounter","state","setState","initGame","newState","message","selectDifficulty","boardSize","i","push","x","y","maxTiles","bombsIndexes","Set","add","Math","trunc","random","size","forEach","find","tile","generateBombs","coords","num","openTilesAround","emptyTiles","openEightTiles","split","coordsAround","coord","initialLength","bool","showBombs","openTilesCounter","length","useEffect","style","marginTop","marginBottom","onChange","target","value","map","document","querySelector","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.caf61661.chunk.js","sourcesContent":["import React from 'react'\nimport classNames from 'classnames'\nimport flagIcon from '../../images/mine.png'\nimport bombIcon from '../../images/bomb.png'\n\nconst Tile = ( { data, isGameOver, detonatedId, setGameOver, winGame, openTile, setFlag } ) => {\n\n  return(\n    <div\n      onClick={ () => {\n        if (!data.isFlag && !isGameOver) {\n          openTile(data.index)\n        }\n        if (!data.isFlag && data.isBomb && !isGameOver) {\n          setGameOver(true, 'Поражение!', data.index)\n        }\n        winGame()\n       }\n      }\n      onContextMenu={ evt => {\n        evt.preventDefault();\n        if ((!data.isOpen || data.isFlag) && !isGameOver) {\n          setFlag(data.index)\n        }\n      }}\n      className='tile'\n    >\n      <div className={\n        classNames({\n          'tile__open': data.isOpen,\n          'tile__closed': !data.isOpen || data.isFlag,\n          'color__one': !data.isFlag && !data.isBomb && data.number === 1,\n          'color__two': !data.isFlag && !data.isBomb && data.number === 2,\n          'color__three': !data.isFlag && !data.isBomb && data.number === 3,\n          'color__four': !data.isFlag && !data.isBomb && data.number === 4,\n          'color__five': !data.isFlag && !data.isBomb && data.number === 5,\n          'color__six': !data.isFlag && !data.isBomb && data.number === 6,\n          'color__seven': !data.isFlag && !data.isBomb && data.number === 7,\n          'color__eight': !data.isFlag && !data.isBomb && data.number === 8,\n          'bomb': data.isOpen && data.isBomb,\n          'flag': data.isFlag,\n          'detonated': (detonatedId === data.index)\n        })\n      }>\n        {data.isFlag && <img src={flagIcon} alt='F' title='Флаг'/>}\n        {data.isOpen && !data.isBomb && data.number !== 0 && data.number}\n        {data.isOpen && data.isBomb && <img src={bombIcon} alt='B' title='Мина'/>}\n      </div>\n    </div>\n  )\n}\n\nexport default Tile;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { useEffect, useState} from 'react'\nimport classNames from 'classnames'\nimport Tile from '../Tile/Tile'\n\nfunction App() {\n\n  const initailState = {\n    bombs: [],\n    numbers: [],\n    tiles: [],\n    width: 16,\n    height: 16,\n    difficulty: 'medium',\n    bombsCounter: 40,\n    flagCounter: 0,\n    isGameOver: false,\n  }\n\n  const [state, setState] = useState(initailState);\n\n  const selectDifficulty = difficulty => {\n\n    if (difficulty === 'easy') {\n      return {\n        ...state,\n        bombs: [],\n        numbers: [],\n        tiles: [],\n        width: 8,\n        height: 8,\n        bombsCounter: 10,\n        flagCounter: 0,\n        message: '',\n        isGameOver: false,\n        difficulty,\n        detonatedId: null,\n      }\n    }\n    if (difficulty === 'medium') {\n      return {\n        ...state,\n        bombs: [],\n        numbers: [],\n        tiles: [],\n        width: 16,\n        height: 16,\n        bombsCounter: 40,\n        flagCounter: 0,\n        message: '',\n        isGameOver: false,\n        difficulty,\n        detonatedId: null,\n      }\n    }\n    if (difficulty === 'hard') {\n      return {\n        ...state,\n        bombs: [],\n        numbers: [],\n        tiles: [],\n        width: 30,\n        height: 16,\n        bombsCounter: 99,\n        flagCounter: 0,\n        message: '',\n        isGameOver: false,\n        difficulty,\n        detonatedId: null,\n      }\n    }\n  }\n\n  const initGame = difficulty => {\n\n    const newState = selectDifficulty(difficulty)\n\n    const boardSize = newState.width * newState.height;\n\n    for (let i = 0; i < boardSize; i++) {\n      newState.tiles.push({\n        index: i,\n        isBomb: false,\n        number: 0,\n        isOpen: false,\n        isFlag: false,\n      })\n    }\n  \n    let x = 0;\n    let y = 0;\n\n    const generateBombs = (bombsCounter, maxTiles) => {\n      const bombsIndexes = new Set();\n\n      do {\n        bombsIndexes.add(Math.trunc(Math.random() * maxTiles))\n      } while (bombsIndexes.size < bombsCounter)\n  \n      bombsIndexes.forEach( index => {\n        newState.tiles.find( tile => {\n          if (tile.index === index) {\n            tile.isBomb = true;\n          }\n        })\n      })\n    }\n\n    generateBombs(newState.bombsCounter, boardSize)\n    \n    newState.tiles.forEach((tile) => {\n      tile.coords = `${x},${y}`;\n      \n      if (tile.isBomb) {\n        newState.bombs.push(`${x},${y}`);\n\n        if (x > 0 && y > 0) newState.numbers.push(`${x-1},${y-1}`);\n        if (y > 0) newState.numbers.push(`${x},${y-1}`);\n        if (y > 0 && x < newState.width - 1) newState.numbers.push(`${x+1},${y-1}`);\n\n        if (x > 0) newState.numbers.push(`${x-1},${y}`);\n        if (x < newState.width - 1) newState.numbers.push(`${x+1},${y}`);\n\n        if (x > 0 && y < newState.height - 1) newState.numbers.push(`${x-1},${y+1}`);\n        if (y < newState.height - 1) newState.numbers.push(`${x},${y+1}`);\n        if (x < newState.width - 1 && y < newState.height - 1) newState.numbers.push(`${x+1},${y+1}`);\n\n      }\n      \n      x++;\n      if (x >= newState.width) {\n        x = 0;\n        y++;\n      }\n    });\n    \n    newState.numbers.forEach(num => {\n      newState.tiles.find( tile => {\n        if (tile.coords === num) {\n          tile.number++;\n        }\n      })\n    });\n\n    setState(newState);\n  }\n\n  const openTile = (index) => {\n    const newState = {...state}\n    newState.tiles.find( tile => {\n      if (index === tile.index && tile.number === 0 && !tile.isBomb) {\n        openTilesAround(tile.coords, newState)\n      }\n      if (index === tile.index) {\n        tile.isOpen = true;\n      }\n    })\n    setState(newState);\n  }\n\n  const openTilesAround = (coords, state) => {\n\n    const emptyTiles = new Set();\n\n    const openEightTiles = coords => {\n      \n      const [x, y] = coords.split(',')\n    \n      const coordsAround = [\n        `${+x-1},${+y-1}`,\n        `${+x},${+y-1}`,\n        `${+x+1},${+y-1}`,\n        `${+x-1},${+y}`,\n        `${+x+1},${+y}`,\n        `${+x-1},${+y+1}`,\n        `${+x},${+y+1}`,\n        `${+x+1},${+y+1}`,    \n      ]\n\n      const newState = {...state}\n\n      coordsAround.forEach( coord => {\n        newState.tiles.find( tile => {\n          if (tile.coords === coord && !tile.isFlag) {\n            tile.isOpen = true;\n            if (tile.number === 0) {\n              emptyTiles.add(tile.coords)\n            }\n          }\n        })\n      })\n    }\n\n    openEightTiles(coords);\n\n    let initialLength = 0;\n\n    while (emptyTiles.size !== initialLength) {\n      initialLength = emptyTiles.size;\n      emptyTiles.forEach( coord => {\n        openEightTiles(coord) \n      })\n    }\n  }\n\n  const setFlag = (index) => {\n    const newState = {...state}\n    newState.tiles.find( tile => {\n      if (index === tile.index) {\n        tile.isFlag = !tile.isFlag;\n        if (tile.isFlag) {\n          newState.flagCounter += 1\n        } else {\n          newState.flagCounter -= 1\n        }\n      }\n    })\n    setState(newState);\n  }\n\n  const setGameOver = (bool, message, index) => {\n    showBombs();\n    setState({\n      ...state,\n      isGameOver: bool,\n      message: message,\n      detonatedId: index || null,\n    })\n  }\n\n  const showBombs = () => {\n    const newState = {...state};\n    newState.tiles.forEach( tile => {\n      if (tile.isBomb) {\n        tile.isFlag = false;\n        tile.isOpen = true;\n      }\n    })\n    setState(newState)\n  }\n\n  const winGame = () => {\n    const newState = {...state}\n    let openTilesCounter = 0;\n    newState.tiles.forEach( tile => {\n      if (tile.isOpen && !tile.isBomb) {\n        openTilesCounter +=1;\n      }\n      if (openTilesCounter === (newState.tiles.length - newState.bombsCounter)) {\n        setGameOver(true, 'Победа!')\n      }\n    })\n  }\n\n  useEffect( () => {\n    initGame('easy')\n  }, []);\n\n  return (\n    <div>\n      <div className='settings'>\n        <div className='flags'>\n          <div className='flagsCounter' title='Осталось мин'>{state.bombsCounter - state.flagCounter}</div>\n        </div>\n        <div className='newGame'>\n          <button \n            onClick={ () => {\n              initGame(state.difficulty)\n            }}\n          >\n            New Game\n          </button>\n        </div>\n        <div className='difficulty'>\n          <p style={{marginTop: '0.3em', marginBottom: '0.3em'}}>Выберите сложность:</p>\n          <select onChange={ evt => initGame(evt.target.value)}>\n            <option value='easy' title='Поле 8х8, 10 мин'>Новичок</option>\n            <option value='medium' title='Поле 16х16, 40 мин'>Любитель</option>\n            <option value='hard' title='Поле 30х16, 99 мин'>Профессионал</option>\n          </select>\n        </div>\n      </div>\n      <div className={\n        classNames({\n          'app': true,\n          'field': true,\n          'easy': state.difficulty === 'easy',\n          'medium': state.difficulty === 'medium',\n          'hard': state.difficulty === 'hard',\n        })\n      }>\n        {state.tiles.map( tile => {\n          return (<Tile\n            key={tile.index}\n            data={tile}\n            isGameOver={state.isGameOver}\n            detonatedId={state.detonatedId}\n            setGameOver={setGameOver}\n            winGame={winGame}\n            openTile={openTile}\n            setFlag={setFlag}\n          />)}\n        )}\n        {state.isGameOver && \n          <div\n            className={\n              classNames({\n                'messageBox': true,\n                'message__win': (state.message === 'Победа!'),\n                'message__lose': (state.message === 'Поражение!'),\n              })\n            }\n            onClick={ () => {\n              const box = document.querySelector('.messageBox');\n              box.style='display: none';\n            }}\n          >\n            <span>{state.message}</span>\n          </div>\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}